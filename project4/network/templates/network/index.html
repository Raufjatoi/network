{% extends "network/layout.html" %}

{% block body %}
    <div class="body-content">
        <h1>All Posts ðŸ“„</h1>
        {% if user.is_authenticated %}
            <div class="my-3 mx-5">
                <h2>New Post</h2>
                <form action="{% url 'newPost' %}" method="post">
                    {% csrf_token %}
                    <textarea name="content" rows="4" cols="75"></textarea>
                    <br>
                    <input type="submit" value="Post" class="btn btn-primary">
                </form>
            </div>
        {% endif %}
    </div>

    <div>
        {% for post in posts_of_the_page %}
            <div class="row post mx-5">
                <h5 class="username">@{{ post.user }}</h5>
                <p class="content">{{ post.content }}</p>
                <p class="date">{{ post.date }}</p>
            </div>
        {% endfor %}
    </div>

    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            {% if posts_of_the_page.has_previous %}
                <li class="page-item"><a class="page-link" href="?page={{ posts_of_the_page.previous_page_number }}">Previous</a></li>
            {% endif %}
            {% if posts_of_the_page.has_next %}
                <li class="page-item"><a class="page-link" href="?page={{ posts_of_the_page.next_page_number }}">Next</a></li>
            {% endif %}
        </ul>
    </nav>
    
{% endblock %}
